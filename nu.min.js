// Nu 0.0.3 Copyright (C) 2013 @yuya, MIT License.
// See https://github.com/yhmt/nu
!function(a,b){function c(){try{return(new Image).doScroll(),b.fireEvent("DOMContentLoaded",b.createEventObject())}catch(a){setTimeout(c,64)}}function d(a){return null!=a&&a===a.window}function e(a){return null!=a&&"[object HTMLDocument]"===J.call(a)}function f(a){return!(!a||1!==a.nodeType)}function g(a){return Array.isArray(a)}function h(a){return a===Object(a)}function i(a){return null!=a&&h(a)&&!d(a)&&a.__proto__===Object.prototype}function j(a){return"[object Function]"===J.call(a)}function k(a){return"[object String]"===J.call(a)}function l(a){return"[object Number]"===J.call(a)}function m(a){return l(a)&&a!==+a}function n(a){return a===!0||a===!1||"[object Boolean]"===J.call(a)}function o(a){return null===a}function p(a){return void 0===a}function q(a){return"[object Date]"===J.call(a)}function r(a){return"[object RegExp]"===J.call(a)}function s(a){var b=J.call(a);return"[object NodeList]"===b||"[object HTMLCollection]"===b}function t(a){return H.call(a)}function u(a,b){var c,d,e,f=0;if(g(a))for(c=a.length;c;++f,--c)b(a[f],f);else for(d=Object.keys(a),c=d.length;c;++f,--c)e=d[f],b(e,a[e])}function v(a,b){var c,d,e,f=0,h={};if(g(a)){for(c=a.length;c;++f,--c)if(b(a[f]),f)return a[f]}else if(i(a))for(d=Object.keys(a),c=d.length;c;++f,--c)if(e=d[f],b(e,a[e],f))return h[e]=a[e],h;return null}function w(a){var b=[];return u(a,function(a){b.push("on"+a)}),b}b.getElementsByClassName||(b.getElementsByClassName=function(a){return b.querySelectorAll("."+a)}),Object.keys||(Object.keys=function(a){var b,c=[],d=0;for(b in a)a.hasOwnProperty(b)&&(c[d++]=b);return c}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});var x,y,z=b.createElement("div"),A=function(){var a=navigator.userAgent.toLowerCase(),b=a.match(/(?:iphone\sos|ip[oa]d.*os)\s([\d_]+)/),c=a.match(/(android)\s+([\d.]+)/),d=!!b,e=!!c,f=function(){var b=/(webkit)[ \/]([\w.]+)/.exec(a)||/(firefox)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||[];return{name:b[1],version:parseFloat(b[2])}}(),g=function(){return B.touchEvent&&(d||e)?d?"ios":"android":"desktop"}(),h=function(){return"desktop"!==g?parseFloat((b||c).pop().split(/\D/).join(".")):null}();return{platform:g,browser:f.name,version:{os:h,browser:f.version},oldIE:"msie"===f.name&&f.version<9,oldAndroid:e&&4>h}}(),B={touchEvent:"ontouchstart"in a,addEventListener:"addEventListener"in a,removeEventListener:"removeEventListener"in a,orientationchange:"onorientationchange"in a,pageShow:"onpageshow"in a,createEvent:"createEvent"in b,classList:!!z.classList},C={touchstart:B.touchEvent?"touchstart":"mousedown",touchmove:B.touchEvent?"touchmove":"mousemove",touchend:B.touchEvent?"touchend":"mouseup",orientationchange:B.orientationchange?"orientationchange":"resize",pageshow:B.pageShow?"pageshow":this.domcontentloaded,domcontentloaded:A.oldIE?c():"DOMContentLoaded"},D=B.addEventListener?"addEventListener":"attachEvent",E=B.removeEventListener?"removeEventListener":"detachEvent",F=Array.prototype,G=Object.prototype,H=(Function.prototype,F.push,F.slice),I=F.concat,J=G.toString,K=(G.hasOwnProperty,/complete|loaded|interactive/),L=/^(.+[\#\.\s\[\*>:,]|[\[:])/;x=function(a,c){var d,e=null;if("string"==typeof a)c=c||b,e=L.test(a)?c.querySelectorAll(a):"#"===a[0]?[c.getElementById(a.substring(1,a.length))]:"."===a[0]?c.getElementsByClassName(a.substring(1,a.length)):c.getElementsByTagName(a);else if(a)if(1===a.nodeType||a===window||a===b||a===b.body)e=[a];else if(s(a)||g(a)&&a.length&&a[0].nodeType)e=a;else{if(j(a))return d=a,y.ready(d);if(a instanceof x)return x}return new x.fn.init(e||[],a)},x.fn=x.prototype={constructor:x,init:function(a,b){var c=0,d=this.length=a.length;for(this.selector=b,this._data={},this._delegates={};d;++c,--d)this[c]=a[c];return this},ready:function(a){var c=C.domcontentloaded+" "+C.pageshow;return K.test(b.readyState)?a():this.bind(c,function(){a()}),this},each:function(a){for(var b=0,c=this.length;c;++b,--c)a.call(this[b],b);return this},match:function(a){for(var b=this.length;b--;)if(a.call(this[b],b))return this[b];return null},index:function(a){var b=-1;return this.match(function(c){return this===a?(b=c,!0):!1}),b},get:function(a){return null==a?t(this):0>a?this[this.length+a]:this[a]},on:function(a,b,c){function d(a,b){b=b||c,g.each(function(){this[D](a,b)})}function e(a){var e,f,h,i,k;e=g._delegates[a],f={selector:b,callback:c},e||(e=g._delegates[a]={listeners:[],handler:function(a){h=a.target,i=arguments,v(e.listeners,function(a){return k=x(a.selector).match(function(){return this.contains(h)}),k&&(j(a.callback)?a.callback.apply(k,i):a.callback.handleEvent&&a.callback.handleEvent.apply(k,i)),k})}},d(a,e.handler)),e.listeners.push(f)}var f,g=this;return k(a)&&(a=B.addEventListener?a.split(" "):w(a.split(" "))),f=k(b)?e:d,u(a,function(a){f(a)}),this},one:function(a,b,c){return this.on(a,b,c,1)},off:function(a,b,c){function d(a,b){b=b||c,g.each(function(){this[E](a,b)})}function e(a){var e,f;e=g._delegates[a],f=e.listeners,f&&f.length&&(p(c)?u(f,function(a,c){a.selector===b&&f.splice(c,1)}):v(f,function(a,d){return a.selector===b&&a.callback===c?(a.splice(d,1),!0):!1}),f.length||(d(a,e.handler),delete g._delegates[a]))}var f,g=this;return k(a)&&(a=B.removeEventListener?a.split(" "):w(a.split(" "))),f=k(b)?e:d,u(a,function(a){f(a)}),this},trigger:function(){var a=t(arguments),c=a.shift(),d=B.createEvent?b.createEvent("Event"):b.createEventObject();return a.length&&(d._data=a),B.createEvent?this.each(function(){d.initEvent(c,!0,!0),this.dispatchEvent(d)}):this.each(function(){d.fireEvent(c,d)}),this},hasClass:B.classList?function(a){return this.match(function(){return this.classList.contains(a)})}:function(a){return a=" "+a,this.match(function(){return(" "+this.className).indexOf(a)>-1})},addClass:B.classList?function(a){return this.each(function(){this.classList.add(a)})}:function(a){return this.each(function(){x(this).hasClass(a)||(this.className+=(this.className?" ":"")+a)})},removeClass:B.classList?function(a){return this.each(function(){this.classList.remove(a)})}:function(a){return this.each(function(){this.className=this.className.replace(new RegExp("(\\s|^)"+a+"(\\s|$)")," ").replace(/^s+|\s+$/g,"")})},toggleClass:function(a){var b;return this.each(function(){b=x(this),b.hasClass(a)?b.removeClass(a):b.addClass(a)}),this},find:function(a){var b;return this.each(function(){b=t(I(x(a,this)))}),x(b)},append:function(a){var b,c=this.length>1;return this.each(k(a)?function(){this.insertAdjacentHTML("beforeend",a)}:function(){b=this,f(a)?this.appendChild(c?a.cloneNode(!0):a):a instanceof x&&a.each(function(){b.appendChild(this)})})},prepend:function(a){var b,c=this.length>1;return this.each(k(a)?function(){this.insertAdjacentHTML("afterbegin",a)}:function(){b=this,f(a)?this.insertBefore(c?a.cloneNode(!0):a,this.firstChild):a instanceof x&&a.each(function(){b.insertBefore(this,b.firstChild)})})},closest:function(a){var b,c=[],d=t(x(a));return this.each(function(){for(b=this;b;){if(d.indexOf(b)>-1){-1===c.indexOf(b)&&c.push(b);break}b=b.parentNode}}),x(c)},attr:function(a,b){return a&&b?this.each(function(){this.setAttribute(a,b)}):(a&&this[0].getAttribute(a),this)},val:function(a){return a?this.each(function(){this.value=a}):this[0].value},remove:function(){return this.each(function(){this.parentNode.removeChild(this)})},empty:function(){return this.each(function(){for(;this.firstChild;)this.removeChild(this.firstChild)})},html:function(a){return null==a?this[0].innerHTML:(f(a)?this.empty().append(a):this.each(function(){this.empty(),this.insertAdjacentHTML("afterbegin",a)}),this)},show:function(){return this.each(function(){this.style.display="block"})},hide:function(){return this.each(function(){this.style.display="none"})},toggle:function(){return this.each(function(){this.style.display=/dipslay:\s?none/.test(this.style)?"block":"none"})}},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var a,b,c,d,e,f=t(arguments),k=f[0]||{},l=1,m=f.length,o=!1;for(n(k)&&(o=k,k=f[1]||{},++l),h(k)||j(k)||(k={}),m===l&&(k=this,--l);m;++l,--m)d=f[l],null!=d&&u(d,function(f){a=k[f],c=d[f],k!==c&&(b=g(c),o&&c&&(i(c)||b)?(b?(b=!1,e=a&&g(a)?a:[]):e=a&&i(a)?a:{},k[f]=x.extend(o,e,c)):p(c)||(k[f]=c))});return k},y=x(b),x.isWindow=d,x.isDocument=e,x.isElement=f,x.isArray=g,x.isObject=h,x.isPlainObject=i,x.isFunction=j,x.isString=k,x.isNumber=l,x.isNaN=m,x.isBoolean=n,x.isNull=o,x.isUndefined=p,x.isDate=q,x.isRegExp=r,x.isNodeList=s,x.toArray=t,a.Nu=a.nu=x}(this,this.document);