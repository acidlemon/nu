// Nu 0.0.3 Copyright (C) 2014 @yuya, MIT License.
// See https://github.com/yhmt/nu
!function(a,b){function c(){try{return(new Image).doScroll(),b.fireEvent("DOMContentLoaded",b.createEventObject())}catch(a){setTimeout(c,64)}}function d(a){return null!=a&&a===a.window}function e(a){return null!=a&&"[object HTMLDocument]"===O.call(a)}function f(a){return!(!a||1!==a.nodeType)}function g(a){return Array.isArray(a)}function h(a){return a===Object(a)}function i(a){return null!=a&&h(a)&&!d(a)&&a.__proto__===Object.prototype}function j(a){return"[object Function]"===O.call(a)}function k(a){return"[object String]"===O.call(a)}function l(a){return"[object Number]"===O.call(a)}function m(a){return l(a)&&a!==+a}function n(a){return a===!0||a===!1||"[object Boolean]"===O.call(a)}function o(a){return null===a}function p(a){return void 0===a}function q(a){return"[object Date]"===O.call(a)}function r(a){return"[object RegExp]"===O.call(a)}function s(a){var b=O.call(a);return"[object NodeList]"===b||"[object HTMLCollection]"===b}function t(a){return M.call(a)}function u(a,b){var c,d,e,f=0;if(g(a))for(c=a.length;c;++f,--c)b(a[f],f);else for(d=Object.keys(a),c=d.length;c;++f,--c)e=d[f],b(e,a[e])}function v(a,b){var c,d,e,f=0,h={};if(g(a)){for(c=a.length;c;++f,--c)if(b(a[f]),f)return a[f]}else if(i(a))for(d=Object.keys(a),c=d.length;c;++f,--c)if(e=d[f],b(e,a[e],f))return h[e]=a[e],h;return null}function w(a){var b=[];return u(a,function(a){b.push("on"+a)}),b}function x(a){var b;return"defaultPrevented"in a||(b=a.preventDefault,a.defaultPrevented=!1,a.preventDefault=function(){this.defaultPrevented=!0,b.call(this)}),a}function y(a){var c;return F.createEvent?(c=b.createEvent("Event"),c.initEvent(a,!0,!0,null,null,null,null,null,null,null,null,null,null,null,null)):c=b.createEventObject(),c.isDefaultPrevented=function(){return this.defaultPrevented},x(c)}function z(a,b){return P.call(a,b)}function A(a){var b={},c=N.apply(K,M.call(arguments,1));return u(c,function(c){c in a&&(b[c]=a[c])}),console.log(b),b}function B(a,b){if(null==a)return void 0;var c=a[b];return C.isFunction(c)?c.call(a):c}b.getElementsByClassName||(b.getElementsByClassName=function(a){return b.querySelectorAll("."+a)}),Date.now||(Date.now=function(){return+new Date}),Object.keys||(Object.keys=function(a){var b,c=[],d=0;for(b in a)a.hasOwnProperty(b)&&(c[d++]=b);return c}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=[].slice,c=b.call(arguments,1),d=this,e=function(){},f=function(){return d.apply(this instanceof e?this:a||window,c.concat(b.call(arguments)))};return e.prototype=this.prototype,f.prototype=new e,f});var C,D,E=b.createElement("div"),F={touchEvent:"ontouchstart"in a,addEventListener:"addEventListener"in a,removeEventListener:"removeEventListener"in a,orientationchange:"onorientationchange"in a,pageShow:"onpageshow"in a,createEvent:"createEvent"in b,classList:!!E.classList},G=function(){var a=navigator.userAgent.toLowerCase(),b=a.match(/(?:iphone\sos|ip[oa]d.*os)\s([\d_]+)/),c=a.match(/(android)\s+([\d.]+)/),d=!!b,e=!!c,f=/windows/.test(a),g=/macintosh/.test(a),h=function(){var b=/(webkit)[ \/]([\w.]+)/.exec(a)||/(firefox)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||[];return{name:b[1],version:parseFloat(b[2])}}(),i=d||e?"mobile":"desktop",j=function(){return d?"ios":e?"android":g?"mac":f?"windows":"unknown"}(),k=function(){return F.touchEvent&&"desktop"!==j?parseFloat((b||c).pop().split(/\D/).join(".")):null}();return{platform:j,device:i,browser:h.name,version:{os:k,browser:h.version},oldIE:"msie"===h.name&&h.version<9,oldAndroid:e&&4>k}}(),H={touchstart:F.touchEvent?"touchstart":"mousedown",touchmove:F.touchEvent?"touchmove":"mousemove",touchend:F.touchEvent?"touchend":"mouseup",touchcancel:F.touchEvent?"touchcancel":"mouseleave",orientationchange:F.orientationchange?"orientationchange":"resize",pageshow:F.pageShow?"pageshow":this.domcontentloaded,domcontentloaded:G.oldIE?c():"DOMContentLoaded"},I=F.addEventListener?"addEventListener":"attachEvent",J=F.removeEventListener?"removeEventListener":"detachEvent",K=Array.prototype,L=Object.prototype,M=(Function.prototype,K.push,K.slice),N=K.concat,O=L.toString,P=L.hasOwnProperty,Q=/complete|loaded|interactive/,R=/^(.+[\#\.\s\[\*>:,]|[\[:])/;C=function(a,c){var d,e=null;if("string"==typeof a)c=c||b,e=R.test(a)?c.querySelectorAll(a):"#"===a[0]?[c.getElementById(a.substring(1,a.length))]:"."===a[0]?c.getElementsByClassName(a.substring(1,a.length)):c.getElementsByTagName(a);else if(a)if(1===a.nodeType||a===window||a===b||a===b.body)e=[a];else if(s(a)||g(a)&&a.length&&a[0].nodeType)e=a;else{if(j(a))return d=a,D.ready(d);if(a instanceof C)return C}return new C.fn.init(e||[],a)},C.fn=C.prototype={constructor:C,init:function(a,b){var c=0,d=this.length=a.length;for(this.selector=b,this._data={},this._delegates={};d;++c,--d)this[c]=a[c];return this},ready:function(a){var c=H.domcontentloaded+" "+H.pageshow;return Q.test(b.readyState)?a():this.on(c,function(){a()}),this},each:function(a){for(var b=0,c=this.length;c;++b,--c)a.call(this[b],b);return this},match:function(a){for(var b=this.length;b--;)if(a.call(this[b],b))return this[b];return null},index:function(a){var b=-1;return this.match(function(c){return this===a?(b=c,!0):!1}),b},get:function(a){return null==a?t(this):0>a?this[this.length+a]:this[a]},on:function(a,b,c){function d(a,c){c=c||b,g.each(function(){this[I](a,c)})}function e(a){var e,f,h,i,k;e=g._delegates[a],f={selector:b,callback:c},e||(e=g._delegates[a]={listeners:[],handler:function(a){h=a.target,i=arguments,v(e.listeners,function(a){return k=C(a.selector).match(function(){return this.contains(h)}),k&&(j(a.callback)?a.callback.apply(k,i):a.callback.handleEvent&&a.callback.handleEvent.apply(k,i)),k})}},d(a,e.handler)),e.listeners.push(f)}var f,g=this;return k(a)&&(a=F.addEventListener?a.split(" "):w(a.split(" "))),f=k(b)?e:d,u(a,function(a){f(a)}),this},one:function(a,b,c){return this.on(a,b,c,1)},off:function(a,b,c){function d(a,c){c=c||b,g.each(function(){this[J](a,c)})}function e(a){var e,f;e=g._delegates[a],f=e.listeners,f&&f.length&&(p(c)?u(f,function(a,c){a.selector===b&&f.splice(c,1)}):v(f,function(a,d){return a.selector===b&&a.callback===c?(a.splice(d,1),!0):!1}),f.length||(d(a,e.handler),delete g._delegates[a]))}var f,g=this;return k(a)&&(a=F.removeEventListener?a.split(" "):w(a.split(" "))),f=k(b)?e:d,u(a,function(a){f(a)}),this},trigger:function(){var a,b,c=t(arguments);return k(c[0])?(a=c.shift(),b=y(a)):b=c.shift(),c.length&&(b._data=c),F.createEvent&&this.each(function(){this.dispatchEvent(b)}),this},hasClass:F.classList?function(a){return this.match(function(){return this.classList.contains(a)})}:function(a){return a=" "+a,this.match(function(){return(" "+this.className).indexOf(a)>-1})},addClass:F.classList?function(a){return this.each(function(){this.classList.add(a)})}:function(a){return this.each(function(){C(this).hasClass(a)||(this.className+=(this.className?" ":"")+a)})},removeClass:F.classList?function(a){return this.each(function(){this.classList.remove(a)})}:function(a){return this.each(function(){this.className=this.className.replace(new RegExp("(\\s|^)"+a+"(\\s|$)")," ").replace(/^s+|\s+$/g,"")})},toggleClass:function(a){var b;return this.each(function(){b=C(this),b.hasClass(a)?b.removeClass(a):b.addClass(a)}),this},find:function(a){var b;return this.each(function(){b=t(N(C(a,this)))}),C(b)},append:function(a){var b,c=this.length>1;return this.each(k(a)?function(){this.insertAdjacentHTML("beforeend",a)}:function(){b=this,f(a)?this.appendChild(c?a.cloneNode(!0):a):a instanceof C&&a.each(function(){b.appendChild(this)})})},prepend:function(a){var b,c=this.length>1;return this.each(k(a)?function(){this.insertAdjacentHTML("afterbegin",a)}:function(){b=this,f(a)?this.insertBefore(c?a.cloneNode(!0):a,this.firstChild):a instanceof C&&a.each(function(){b.insertBefore(this,b.firstChild)})})},closest:function(a){var b,c=[],d=t(C(a));return this.each(function(){for(b=this;b;){if(d.indexOf(b)>-1){-1===c.indexOf(b)&&c.push(b);break}b=b.parentNode}}),C(c)},attr:function(a,b){if(i(a))u(a,function(a,b){return this.each(function(){this.setAttribute(a,b)})});else{if(a&&b)return this.each(function(){this.setAttribute(a,b)});a&&this[0].getAttribute(a)}return this},val:function(a){return a?this.each(function(){this.value=a}):this[0].value},remove:function(){return this.each(function(){this.parentNode.removeChild(this)})},empty:function(){return this.each(function(){for(;this.firstChild;)this.removeChild(this.firstChild)})},html:function(a){return null==a?this[0].innerHTML:(f(a)?this.empty().append(a):this.each(function(){this.empty(),this.insertAdjacentHTML("afterbegin",a)}),this)},show:function(){return this.each(function(){this.style.display="block"})},hide:function(){return this.each(function(){this.style.display="none"})},toggle:function(){return this.each(function(){this.style.display=/dipslay:\s?none/.test(this.style)?"block":"none"})}},C.fn.init.prototype=C.fn,C.extend=C.fn.extend=function(){var a,b,c,d,e,f=t(arguments),k=f[0]||{},l=1,m=f.length,o=!1;for(n(k)&&(o=k,k=f[1]||{},++l),h(k)||j(k)||(k={}),m===l&&(k=this,--l);m;++l,--m)d=f[l],null!=d&&u(d,function(f){a=k[f],c=d[f],k!==c&&(b=g(c),o&&c&&(i(c)||b)?(b?(b=!1,e=a&&g(a)?a:[]):e=a&&i(a)?a:{},k[f]=C.extend(o,e,c)):p(c)||(k[f]=c))});return k},D=C(b),C.isWindow=d,C.isDocument=e,C.isElement=f,C.isArray=g,C.isObject=h,C.isPlainObject=i,C.isFunction=j,C.isString=k,C.isNumber=l,C.isNaN=m,C.isBoolean=n,C.isNull=o,C.isUndefined=p,C.isDate=q,C.isRegExp=r,C.isNodeList=s,C.toArray=t,C.support=F,C.userAgent=G,C.events=H,C.each=u,C.match=v,C.createEvent=y,C.has=z,C.pick=A,C.result=B,a.Nu=a.nu=C}(this,this.document);